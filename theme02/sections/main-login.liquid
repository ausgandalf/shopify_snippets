{%- assign wholesale_url = 'https://shopify.com/2347341/account' -%}

{%- style -%}
  .site-header {
    border-bottom: 0; // Remove the border on header
  }
{%- endstyle -%}

<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.rcLoginAccessLink = {
      disableInjection: true
      //   injectionAnchorSelectors: [
      //     "#wholesaleLogin",
      // ],
      // injectionPosition: 'afterend',
      // page: "/account/login",
    }
  })
</script>

<div class="customer login bg-grey-1 pt-12 lg:py-32">
  {%- comment -%}Reset Password{%- endcomment -%}
  <div data-reset-form class="hidden flex-col lg:flex-row justify-center gap-10 px-6 ">
    <div class="lg:bg-white lg:px-6 lg:pb-6 lg:py-9 text-left accountCard pb-12 ">
      <h3 class="font-bold mb-4" tabindex="-1">Reset Password</h3>
      <p class="mb-4 text-grey-5">We'll send you an email to reset your password.</p>

      {%- form 'recover_customer_password' -%}
        {% assign recover_success = form.posted_successfully? %}

        <div class="field input-wrap w-full">
          <input
            type="email"
            value=""
            name="email"
            id="RecoverEmail"
            autocorrect="off"
            autocapitalize="off"
            autocomplete="email"
            class="w-full"
            placeholder=" "
            {% if form.errors %}
              aria-invalid="true"
              aria-describedby="RecoverEmail-email-error"
              autofocus
            {% endif %}>
          <label class="absolute top-2 left-2" for="RecoverEmail">{{ 'customer.login_page.email' | t }} </label>
        </div>

        {%- if form.errors -%}

          <div class="form__message gap-1 text-sm text-error font-bold mt-4" tabindex="-1" autofocus>
            <span class="visually-hidden">{{ 'accessibility.error' | t }} </span>
            <svg class="w-5 h-5 inline" aria-hidden="true" focusable="false" viewBox="0 0 13 13">
              <circle cx="6.5" cy="6.50049" r="5.5" stroke="white" stroke-width="2"/>
              <circle cx="6.5" cy="6.5" r="5.5" fill="#EB001B" stroke="#EB001B" stroke-width="0.7"/>
              <path d="M5.87413 3.52832L5.97439 7.57216H7.02713L7.12739 3.52832H5.87413ZM6.50076 9.66091C6.88091 9.66091 7.18169 9.37267 7.18169 9.00504C7.18169 8.63742 6.88091 8.34917 6.50076 8.34917C6.12061 8.34917 5.81982 8.63742 5.81982 9.00504C5.81982 9.37267 6.12061 9.66091 6.50076 9.66091Z" fill="white"/>
              <path d="M5.87413 3.17832H5.51535L5.52424 3.537L5.6245 7.58083L5.63296 7.92216H5.97439H7.02713H7.36856L7.37702 7.58083L7.47728 3.537L7.48617 3.17832H7.12739H5.87413ZM6.50076 10.0109C7.06121 10.0109 7.5317 9.57872 7.5317 9.00504C7.5317 8.43137 7.06121 7.99918 6.50076 7.99918C5.94031 7.99918 5.46982 8.43137 5.46982 9.00504C5.46982 9.57872 5.94031 10.0109 6.50076 10.0109Z" fill="white" stroke="#EB001B" stroke-width="0.7">
            </svg>
            <span>Please Adjust the Following:</span> <span class="font-normal"> {{ form.errors.messages.form }}</span>
          </div>
        {%- endif -%}

        <button class="block button button--primary-dark mt-4 w-full !max-w-full">
          {{ 'customer.login_page.submit' | t }}
        </button>

        <a data-login-toggle href="#login" class="w-fit mx-auto content-link text-center  block mt-4">
          {{ 'customer.login_page.cancel' | t }}
        </a>
      {%- endform -%}
    </div>
  </div>
  {%- comment -%}END Reset Password{%- endcomment -%}

  <div data-login-form class="flex flex-col justify-center items-center">
    <!-- Login Card -->
    <div class="lg:bg-white w-full lg:pt-12 lg:pb-10 lg:pr-12 lg:pl-12 pr-4 pl-4 pb-8 text-left accountCard">
      <h3 class="pb-4 font-bold" tabindex="-1">
        {{ 'customer.login_page.title' | t }}
      </h3>
      <p class="mb-6 text-grey-5">If you have an account, please log in.</p>

      {%- if recover_success == true -%}
        <h3 class="form__message flex sub-sm mb-2 mt-2" tabindex="-1" autofocus>
          <svg class="h-5 w-5" aria-hidden="true" focusable="false" viewBox="0 0 13 13">
            <path d="M6.5 12.35C9.73087 12.35 12.35 9.73086 12.35 6.5C12.35 3.26913 9.73087 0.65 6.5 0.65C3.26913 0.65 0.65 3.26913 0.65 6.5C0.65 9.73086 3.26913 12.35 6.5 12.35Z" fill="#428445" stroke="white" stroke-width="0.7"/>
            <path d="M5.53271 8.66357L9.25213 4.68197" stroke="white"/>
            <path d="M4.10645 6.7688L6.13766 8.62553" stroke="white">
          </svg>
          We've sent you an email with a link to update your password.
        </h3>
      {%- endif -%}

      {%- form 'customer_login', class: 'flex flex-col' -%}
        {%- if form.errors -%}
        <div class="form__message mb-2" tabindex="-1" autofocus>
          <p class="flex gap-1 text-sm text-error font-bold ">
            <span class="visually-hidden">{{ 'accessibility.error' | t }} </span>
            <svg class="w-5 h-5" aria-hidden="true" focusable="false" viewBox="0 0 13 13">
              <circle cx="6.5" cy="6.50049" r="5.5" stroke="white" stroke-width="2"/>
              <circle cx="6.5" cy="6.5" r="5.5" fill="#EB001B" stroke="#EB001B" stroke-width="0.7"/>
              <path d="M5.87413 3.52832L5.97439 7.57216H7.02713L7.12739 3.52832H5.87413ZM6.50076 9.66091C6.88091 9.66091 7.18169 9.37267 7.18169 9.00504C7.18169 8.63742 6.88091 8.34917 6.50076 8.34917C6.12061 8.34917 5.81982 8.63742 5.81982 9.00504C5.81982 9.37267 6.12061 9.66091 6.50076 9.66091Z" fill="white"/>
              <path d="M5.87413 3.17832H5.51535L5.52424 3.537L5.6245 7.58083L5.63296 7.92216H5.97439H7.02713H7.36856L7.37702 7.58083L7.47728 3.537L7.48617 3.17832H7.12739H5.87413ZM6.50076 10.0109C7.06121 10.0109 7.5317 9.57872 7.5317 9.00504C7.5317 8.43137 7.06121 7.99918 6.50076 7.99918C5.94031 7.99918 5.46982 8.43137 5.46982 9.00504C5.46982 9.57872 5.94031 10.0109 6.50076 10.0109Z" fill="white" stroke="#EB001B" stroke-width="0.7">
            </svg>
            Please Adjust the Following:
          </p>
          <ul class="text-error list-disc text-sm">
            {%- for field in form.errors -%}
            <li class="text-sm text-error">
                {{ form.errors.messages[field] }}
            </li>
            {%- endfor -%}
          </ul>
        </div>
        {%- endif -%}

        <div class="gap-6 w-full flex flex-col">

        <div class="input-wrap w-full">
          <input
            type="email"
            name="customer[email]"
            id="CustomerEmail"
            autocomplete="email"
            autocorrect="off"
            autocapitalize="off"
            class="w-full"
            placeholder=" "
            {% if form.errors contains 'form' %}
              aria-invalid="true"
            {% endif %}>
          <label class="absolute top-2 left-2" for="CustomerEmail">{{ 'customer.login_page.email' | t }} </label>
        </div>

        {%- if form.password_needed -%}
          <div class="input-wrap mb-6 w-full">
            <input
              type="password"
              value=""
              name="customer[password]"
              id="CustomerPassword"
              class="w-full"
              autocomplete="current-password"
              {% if form.errors contains 'form' %}
                aria-invalid="true"
              {% endif %}
              placeholder=" ">

            <label class="absolute top-2 left-2" for="CustomerPassword">{{ 'customer.login_page.password' | t }} </label>
          </div>
        {%- endif -%}

        </div>



        <button type="submit" class="block button button--primary-dark w-full !max-w-full lg:mb-6 mb-4">
          {{ 'customer.login_page.sign_in' | t }}
        </button>

        <div class="flex flex-col lg:gap-6 gap-4 text-center lg:text-left">
          <div>
            <a href="{{ routes.account_register_url }}" class="content-link  mr-auto text-center mb-6 lg:text-left">Create An Account</a>
          </div>
          <div>
            <a data-recover-toggle href="#recover" class="content-link mr-auto text-center lg:text-left">Forgot Password</a>
          </div>
        </div>
      {%- endform -%}
    </div>
    <div class="bg-grey-3 accountCard h-[1px] w-full mx-auto"></div>
    <div class="subscribedWithoutAccount text-left bg-white lg:pt-10 lg:pr-12 lg:pl-12 lg:pb-12 pt-8 pr-4 pl-4 pb-[80px] w-full accountCard">
      <h5 class="lg:pb-4 pb-2 font-bold">Subscribed without an account?</h5>
      <p class="text-grey-5 lg:mb-6 mb-4">
        Did you place a subscription order without creating an account? Once complete, you can manage your subscriptions directly within your account.
      </p>
      <button onclick="location.href='/tools/recurring/get-subscription-access';" class="button text-center block button button--secondary-dark w-full">
        Manage Subscriptions
      </button>
    </div>
  </div>

  {%- if shop.checkout.guest_login -%}
    <div>
      <hr>
      <h2>{{ 'customer.login_page.guest_title' | t }}</h2>

      {%- form 'guest_login' -%}
        <button>
          {{ 'customer.login_page.guest_continue' | t }}
        </button>
      {%- endform -%}
    </div>
  {%- endif -%}
</div>

{% schema %}
{
  "name": "t:sections.main-login.name",
  "class": "customer-login",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ]
}
{% endschema %}
